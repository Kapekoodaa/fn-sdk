<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FN SDK Viewer</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="stars" id="stars"></div>

    <!-- HOME PAGE -->
    <div class="page active home-page" id="homePage">
        <div class="home-header">
            <h1>üöÄ FN SDK Viewer</h1>
            <p>Professional Game Dumps Viewer from GitHub</p>
        </div>

        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number" id="sdkUpdated">Loading...</div>
                <div class="stat-label">SDK Updated</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalFiles">0</div>
                <div class="stat-label">Total Files</div>
            </div>
            <div class="stat-card stat-card-clickable" onclick="window.open('https://github.com/Kapekoodaa/fn-sdk', '_blank')">
                <div class="stat-icon">üîó</div>
                <div class="stat-label">View on GitHub</div>
            </div>
        </div>

        <div class="enter-viewer-container">
            <button class="enter-viewer-btn" id="enterViewerBtn" onclick="enterSDKViewer()">
                üöÄ Enter SDK Viewer
            </button>
        </div>
    </div>

    <!-- VIEWER PAGE -->
    <div class="page viewer-page" id="viewerPage">
        <div class="viewer-header">
            <button class="back-btn" onclick="goHome()">‚Üê Back</button>
            <div class="viewer-title">
                <h2 id="currentGameTitle">Game Viewer</h2>
            </div>

            <div class="global-header-search">
                <input type="text" id="propertySearchTop" placeholder="üåê Search properties globally..." />
            </div>
        </div>

        <div class="viewer-content">
            <div class="sidebar" id="sidebar">
                <div class="sidebar-tab active" data-tab="classes" onclick="switchCategory('classes')">
                    <div class="sidebar-icon">üì¶</div>
                    <div class="sidebar-label">Classes</div>
                </div>
                <div class="sidebar-tab" data-tab="structs" onclick="switchCategory('structs')">
                    <div class="sidebar-icon">üóÇÔ∏è</div>
                    <div class="sidebar-label">Structs</div>
                </div>
                <div class="sidebar-tab" data-tab="enums" onclick="switchCategory('enums')">
                    <div class="sidebar-icon">üî¢</div>
                    <div class="sidebar-label">Enums</div>
                </div>
                <div class="sidebar-tab" data-tab="functions" onclick="switchCategory('functions')">
                    <div class="sidebar-icon">‚öôÔ∏è</div>
                    <div class="sidebar-label">Functions</div>
                </div>
                <div class="sidebar-tab" data-tab="offsets" onclick="switchCategory('offsets')">
                    <div class="sidebar-icon">üìç</div>
                    <div class="sidebar-label">Offsets</div>
                </div>
            </div>

            <div class="items-panel">
                <div class="items-search">

                    <!-- Advanced Search: ALWAYS VISIBLE -->
                    <div class="search-filters active" id="searchFilters">
                        <div class="filter-title">Search for:</div>
                        <div class="filter-options">
                            <label class="filter-checkbox checked">
                                <input type="checkbox" checked onchange="updateSearchFilters()" data-filter="names" />
                                <span>Names</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" onchange="updateSearchFilters()" data-filter="properties" />
                                <span>Properties</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" onchange="updateSearchFilters()" data-filter="offsets" />
                                <span>Offsets</span>
                            </label>
                        </div>
                        <div class="search-results-info" id="searchResultsInfo"></div>
                    </div>

                    <!-- Item Search -->
                    <input type="text" id="itemSearch" placeholder="üîç Search..." />
                </div>

                <div class="items-list" id="itemsList"></div>
            </div>

            <div class="details-panel" id="detailsPanel">
                <div class="empty-state">
                    <div class="empty-state-icon">üëà</div>
                    <h3>Select an item to view details</h3>
                </div>
            </div>
        </div>
    </div>

    <!-- PROPERTY RESULTS MODAL (centered compact popup) -->
    <div class="property-modal-backdrop" id="propertyModalBackdrop" aria-hidden="true">
        <div class="property-modal" id="propertyModal" role="dialog" aria-modal="true">
            <div class="property-modal-header">
                <div class="modal-title">Property Search Results</div>
                <button class="modal-close-btn" id="propertyModalClose" title="Close">‚úñ</button>
            </div>
            <div class="property-modal-body" id="propertyModalBody">
                <!-- result items appended here -->
                <div class="empty-state small" id="propertyModalEmpty">
                    <p>Type a property name and press Enter to search</p>
                </div>
                <div id="propertyResultsList" class="property-results-list"></div>
            </div>
            <div class="property-modal-footer">
                <div id="propertyModalCount" class="modal-count"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>